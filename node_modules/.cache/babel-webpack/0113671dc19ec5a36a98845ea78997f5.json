{"ast":null,"code":"// encoder.js\nexports.Encoder = Encoder;\n\nvar EventLite = require(\"event-lite\");\n\nvar EncodeBuffer = require(\"./encode-buffer\").EncodeBuffer;\n\nfunction Encoder(options) {\n  if (!(this instanceof Encoder)) return new Encoder(options);\n  EncodeBuffer.call(this, options);\n}\n\nEncoder.prototype = new EncodeBuffer();\nEventLite.mixin(Encoder.prototype);\n\nEncoder.prototype.encode = function (chunk) {\n  this.write(chunk);\n  this.emit(\"data\", this.read());\n};\n\nEncoder.prototype.end = function (chunk) {\n  if (arguments.length) this.encode(chunk);\n  this.flush();\n  this.emit(\"end\");\n};","map":null,"metadata":{},"sourceType":"script"}